{"version":3,"sources":["js/route.js","js/router.js","js/main.js"],"names":["Route","name","template","isHome","prototype","isActive","replace","init","module","exports","Router","routes","root","document","getElementById","scope","window","addEventListener","onPageChange","location","hash","length","i","route","substr","goToRoute","html","url","xhttp","XMLHttpRequest","onreadystatechange","readyState","status","innerHTML","responseText","open","send","r","require","rt","router"],"mappings":"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","file":"main.fb6bbcaf.map","sourceRoot":"../src","sourcesContent":["'use strict'\n\nfunction Route(name, template, isHome) {\n    this.name = name;\n    this.template = template;\n    this.isHome = isHome;\n}\n\nRoute.prototype.isActive = function(name) {\n    return name.replace(\"#\",\"\") === this.name;\n}\n\nfunction init(name, template, isHome) {\n    return new Route(name, template, isHome);\n}\n\nmodule.exports = { init };","'use strict'\n\nfunction Router(routes) {\n    this.routes = routes;\n    this.root = document.getElementById(\"app\");\n    this.init();\n}\n\nRouter.prototype.init = function() {\n    (function (scope, routes) {\n        window.addEventListener(\"hashchange\", function() {\n            scope.onPageChange(scope, routes);\n        });\n    }(this, this.routes));\n    this.onPageChange(this, this.routes);\n}\n\nRouter.prototype.onPageChange = function(scope, routes) {\n    // if going to different page\n    if (window.location.hash.length > 0) {\n        for (let i = 0; i < routes.length; i++) {\n            const route = routes[i];\n            if (route.isActive(window.location.hash.substr(1))) {\n                scope.goToRoute(route.template);\n            }\n        }\n    // else go to home page\n    } else {\n        for (let i = 0; i < routes.length; i++) {\n            const route = routes[i];\n            if (route.isHome) {\n                scope.goToRoute(route.template);\n            }\n        }\n    }\n}\n\nRouter.prototype.goToRoute = function(html) {\n    (function (scope) {\n        const url = `pages/${html}`;\n        const xhttp = new XMLHttpRequest();\n        xhttp.onreadystatechange = function() {\n            if (this.readyState === 4 && this.status === 200) {\n                scope.root.innerHTML = this.responseText;\n            }\n        }\n        xhttp.open(\"GET\", url, true);\n        xhttp.send();\n    }(this));\n}\n\nfunction init(routes) {\n    return new Router(routes);\n}\n\nmodule.exports = { init };","'use strict'\n\nconst r = require('./route');\nconst rt = require('./router');\n\n(function init() {\n    const router = new rt.init([\n        new r.init(\"user\", \"user.html\", true),\n        new r.init(\"budget\", \"budget.html\"),\n        new r.init(\"transaction\", \"transaction.html\")\n    ]);\n}());"]}